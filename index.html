<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulação de Rubber Ducky</title>
    <style>
        body {
            background: black;
            color: white;
            font-family: 'Courier New', Courier, monospace;
            font-size: 16px;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        #cmd {
            width: 80%;
            height: 60%;
            background: black;
            color: white;
            border: 2px solid white;
            padding: 20px;
            overflow-y: auto;
            box-shadow: 0 0 10px white;
        }
    </style>
</head>
<body>
    <div id="cmd"></div>

    <script>
        const cmd = document.getElementById('cmd');

        const fakeCommands = [
            'C:\\Users\\Public> initializing...\n',
            'C:\\Users\\Public> downloading payload...\n',
            'C:\\Users\\Public> payload executed...\n',
            'C:\\System32> accessing secure files...\n',
            'C:\\System32> uploading sensitive data...\n',
            'C:\\Users\\Public> encryption complete...\n'
        ];

        const finalMessage = [
            'Iniciando sistema...\n',
            'Estabelecendo conexão segura...\n',
            'Credenciais verificadas...\n',
            'Descriptografia 100% concluída!\n',
            'Preparando coordenadas secretas...\n'
        ];

        const promptMessage = 'Deseja saber a localização? (y/n)';

        let index = 0;

        function typeCommands(commands, callback) {
            if (index < commands.length) {
                cmd.innerHTML += commands[index];
                cmd.scrollTop = cmd.scrollHeight;
                index++;
                setTimeout(() => typeCommands(commands, callback), 800);
            } else {
                index = 0;
                callback();
            }
        }

        function promptUser() {
            cmd.innerHTML += `\n${promptMessage}\n`;
            const input = document.createElement('input');
            input.type = 'text';
            input.style.color = 'white';
            input.style.background = 'black';
            input.style.border = 'none';
            input.style.fontFamily = 'Courier New';
            input.style.fontSize = '16px';
            input.style.width = '100%';
            cmd.appendChild(input);
            input.focus();

            input.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    const value = input.value.trim().toLowerCase();
                    input.remove();
                    if (value === 'y') {
                        cmd.innerHTML += '\nA localização secreta é: https://goo.gl/maps/EXEMPLO\n';
                    } else if (value === 'n') {
                        cmd.innerHTML += '\nReiniciando processo...\n';
                        index = 0;
                        setTimeout(() => typeCommands(fakeCommands, () => typeCommands(finalMessage, promptUser)), 1000);
                    }
                }
            });
        }

        typeCommands(fakeCommands, () => typeCommands(finalMessage, promptUser));
    </script>
</body>
</html>
